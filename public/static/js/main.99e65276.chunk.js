(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{165:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(25),l=a.n(o),c=(a(98),a(11)),s=a(28),u=a(15),i=a(42),m=a(43),p=a(46),d=a(44),g=a(47),E=a(29),h=a(9),f=a.n(h),b=a(56),k=a.n(b),v=a(16),y=a.n(v),j=a(34),w=a.n(j),O=a(26),x=a.n(O),L=a(169),I=a(171),C=a(172),S=a(170),A=x.a.create({baseURL:"https://bookmarks--app.herokuapp.com/api",withCredentials:!0}),D=function(e){return r.a.createElement(L.a,{className:"mb-3"},e.children)},U=function(e){return r.a.createElement(L.a.Prepend,null,r.a.createElement(L.a.Text,null,e.groupText))},P=function(e){return r.a.createElement(I.a,{name:e.name,placeholder:e.placeholder,as:"input",focus:e.focus,"aria-describedby":e.name,onChange:e.onChange})},N=function(e){return r.a.createElement(C.a,{type:e.type,variant:e.variant,onClick:e.onClick},e.text)},T=function(e){var t=Object(n.useState)(e.userLoggedIn),a=Object(c.a)(t,2),o=(a[0],a[1],Object(n.useState)("")),l=Object(c.a)(o,2),s=l[0],u=l[1],i=Object(n.useState)(""),m=Object(c.a)(i,2),p=m[0],d=m[1],g=Object(n.useState)(""),E=Object(c.a)(g,2),h=E[0],f=E[1],b=Object(n.useState)(!1),k=Object(c.a)(b,2),v=k[0],y=k[1],j=function(e){var t=e.target;!function(e,t){switch(e){case"title":u(t);break;case"url":d(t);break;case"tags":f(t.toLowerCase())}}(t.name,t.value)};return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),y(!1)}},r.a.createElement(N,{type:"button",variant:"outline-secondary",onClick:function(){return y(!0)},text:"Add"}),r.a.createElement(S.a,{centered:!0,show:v,autoFocus:!0,onHide:function(){return y(!1)}},r.a.createElement(S.a.Header,null,r.a.createElement(S.a.Title,null,"Add new bookmark")),r.a.createElement(S.a.Body,null,r.a.createElement(D,null,r.a.createElement(U,{groupText:"www"}),r.a.createElement(P,{name:"url",placeholder:"www.example.com",focus:!0,onChange:j})),r.a.createElement("label",{htmlFor:"url"},"Separate tags by , "),r.a.createElement(D,null,r.a.createElement(U,{groupText:"Tags"}),r.a.createElement(P,{name:"tags",placeholder:"tag1, tag2,",focus:!1,onChange:j}),r.a.createElement(U,{groupText:"Title"}),r.a.createElement(P,{name:"title",placeholder:"Title",focus:!1,onChange:j}))),r.a.createElement(S.a.Footer,null,r.a.createElement(N,{type:"submit",variant:"danger",onClick:function(){return y(!1)},text:"Cancel"}),r.a.createElement(N,{type:"submit",variant:"success",onClick:function(){var t=h.split(",").map(function(e){return e.trim()});(function(e,t,a){return A.post("/bookmark",{title:e,url:t,tags:a}).then(function(e){return e.data}).catch(function(e){return e})})(s,p,t).then(function(t){e.saveUrl({newBookmark:t}),y(!1)}).catch(function(e){alert(e),y(!0)})},text:"Save"}))))},B=x.a.create({baseURL:"https://bookmarks--app.herokuapp.com/api",withCredentials:!0}),G=function(){return B.post("/auth/logout").then(function(e){return e.data}).catch(function(e){return Promise.reject(e)})},F=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={userLoggedIn:a.props.userLoggedIn},a.handleLogout=function(){G().then(function(){a.setState({userLoggedIn:null}),a.props.setUser(null)})},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.userLoggedIn!==e.userLoggedIn&&this.setState({userLoggedIn:this.props.userLoggedIn})}},{key:"render",value:function(){return r.a.createElement(w.a,{sticky:"top",variant:"dark",bg:"dark",expand:"lg"},r.a.createElement(w.a.Brand,null,r.a.createElement(E.a,{to:"/bookmarks",style:{textDecoration:"none",color:"#9A9DA0"}},"Bookmarks")),r.a.createElement(w.a,null,this.state.userLoggedIn&&r.a.createElement(T,{saveUrl:this.props.saveUrl,userLoggedIn:this.state.userLoggedIn})),r.a.createElement(w.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(w.a.Collapse,{className:"justify-content-end",id:"basic-navbar-nav"},r.a.createElement(y.a,{hidden:!this.state.userLoggedIn,className:"justify-content-center"},r.a.createElement(y.a.Item,null,r.a.createElement(f.a,{inline:!0},r.a.createElement(k.a,{type:"text",disabled:!0,placeholder:"Search...",className:"mr-sm-2"})))),r.a.createElement(y.a,{className:"justify-content-end"},this.state.userLoggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a.Item,null,r.a.createElement(y.a.Link,{variant:"outline-info"},r.a.createElement(E.a,{variant:"outline-info",to:"/",onClick:this.handleLogout,style:{textDecoration:"none",color:"#9A9DA0"}},"Log out"))),r.a.createElement(y.a.Item,null,r.a.createElement(y.a.Link,{variant:"outline-info"},r.a.createElement(E.a,{to:"/Settings",disabled:!0,style:{textDecoration:"none",color:"#9A9DA0"}},"Settings")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a.Item,null,r.a.createElement(y.a.Link,{variant:"outline-linfo"},r.a.createElement(E.a,{to:"/login",style:{textDecoration:"none",color:"#9A9DA0"}},"Log in"))),r.a.createElement(y.a.Item,null,r.a.createElement(y.a.Link,{variant:"outline-info"},r.a.createElement(E.a,{to:"/sign-up",style:{textDecoration:"none",color:"#9A9DA0"}},"Sign up")))))))}}]),t}(n.Component),q=a(23),H=a.n(q),z=a(45),M=a.n(z),R=a(21),Y=a.n(R),J=a(24),W=a.n(J),$=(a(88),function(e){var t=Object(n.useState)(e),a=Object(c.a)(t,2),r=a[0],o=a[1];return{value:r,onChange:function(e){o(e.target.value)}}}),_=function(e){var t=$(""),a=$(""),o=Object(n.useState)(!1),l=Object(c.a)(o,2),s=l[0],u=l[1],i=Object(n.useState)(""),m=Object(c.a)(i,2),p=m[0],d=m[1];return r.a.createElement("div",{className:"container"},r.a.createElement(f.a,{display:"block",onSubmit:function(n){n.preventDefault(),u(!1),function(e,t){return B.post("/auth/login",{email:e,password:t}).then(function(e){return e.data}).catch(function(e){return Promise.reject(e.request.status)})}(t.value,a.value).then(function(t){e.setUser(t),e.history.push("/bookmarks")}).catch(function(t){switch(u(!0),t){case 0:d("Could not connect to server \ud83d\ude41");break;case 401:d("Incorrect username or password.");break;default:d("Something went wrong... \ud83d\ude29")}e.setUser(null)})}},r.a.createElement(f.a.Group,{as:W.a,controlId:"errorMessage"},r.a.createElement(Y.a,null,s?r.a.createElement(H.a,{variant:"danger",onClose:function(e){return u(e)},dismissible:!0},r.a.createElement(H.a.Heading,null,"You got an error"),r.a.createElement("p",null,p)):r.a.createElement(r.a.Fragment,null))),r.a.createElement(f.a.Group,{as:W.a,controlId:"formPlaintextEmail"},r.a.createElement(Y.a,null,r.a.createElement(f.a.Control,Object.assign({size:"lg",type:"email",name:"email",placeholder:"example@email.com"},t,{required:!0})))),r.a.createElement(f.a.Group,{as:W.a,controlId:"formPlaintextPassword"},r.a.createElement(Y.a,null,r.a.createElement(f.a.Control,Object.assign({size:"lg",type:"password",name:"password",placeholder:"Enter your password"},a,{required:!0})))),r.a.createElement(f.a.Group,null,r.a.createElement(M.a,{type:"submit",variant:"outline-primary"},"Login"))))},K=function(e){var t=$(""),a=$(""),o=$(""),l=Object(n.useState)(!1),s=Object(c.a)(l,2),u=s[0],i=s[1],m=Object(n.useState)(""),p=Object(c.a)(m,2),d=p[0],g=p[1];return r.a.createElement("div",{className:"container"},r.a.createElement(f.a,{display:"block",onSubmit:function(n){n.preventDefault(),function(e,t,a){return B.post("/auth/signup",{name:e,email:t,password:a}).then(function(e){return e.data}).catch(function(e){return Promise.reject(e.request.status)})}(t.value,a.value,o.value).then(function(t){e.setUser(t),e.history.push("/bookmarks")}).catch(function(t){switch(e.setUser(null),i(!0),t){case 0:g("Could not connect to server \ud83d\ude41");break;case 409:g("The email already exists");break;default:g("Something went wrong... \ud83d\ude29")}})}},r.a.createElement(f.a.Group,{as:W.a,controlId:"errorMessage"},r.a.createElement(Y.a,null,u&&r.a.createElement(H.a,{variant:"danger",onClose:function(e){return i(e)},dismissible:!0},r.a.createElement(H.a.Heading,null,"You got an error "),r.a.createElement("p",null,d)))),r.a.createElement(f.a.Group,{as:W.a,controlId:"formPlaintextPassword"},r.a.createElement(Y.a,null,r.a.createElement(f.a.Control,Object.assign({size:"lg",type:"text",name:"name",placeholder:"Enter your name"},t,{required:!0})))),r.a.createElement(f.a.Group,{as:W.a,controlId:"formPlaintextPassword"},r.a.createElement(Y.a,null,r.a.createElement(f.a.Control,Object.assign({size:"lg",type:"email",name:"email",placeholder:"example@email.com"},a,{required:!0})))),r.a.createElement(f.a.Group,{as:W.a,controlId:"formPlaintextPassword"},r.a.createElement(Y.a,null,r.a.createElement(f.a.Control,Object.assign({size:"lg",type:"password",name:"password",placeholder:"Enter your password",required:!0},o)))),r.a.createElement(f.a.Group,null,r.a.createElement(M.a,{type:"submit",variant:"outline-primary"},"Sign up"))))},Q=a(92),V=a.n(Q),X=a(58),Z=a.n(X),ee=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={bookmarksList:[],userLoggedIn:a.props.userLoggedIn},a.getBookmarks=function(){x.a.get("".concat("https://bookmarks--app.herokuapp.com/api","/bookmark"),{withCredentials:!0}).then(function(e){a.setState({bookmarksList:e.data})}).catch(function(e){return e})},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getBookmarks()}},{key:"componentDidUpdate",value:function(e,t){e!==this.props&&(this.setState({userLoggedIn:this.props.userLoggedIn}),this.getBookmarks())}},{key:"render",value:function(){return r.a.createElement(V.a,{style:{height:"100vh"}},this.state.userLoggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{variant:"flush"},this.state.bookmarksList.map(function(e,t){return r.a.createElement(Z.a.Item,{style:{padding:"25px",marginTop:"2px",marginBottom:"5px",borderRadius:"10px 10px 10px 10px"},key:t,as:"a",target:"_blank",href:e.url},e.title," - ",e.url)}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{variant:"danger"},r.a.createElement(H.a.Heading,null,"Protected content"),r.a.createElement("p",null,"You need to ",r.a.createElement("strong",null,"Log in")," or ",r.a.createElement("strong",null,"Sign up")," first."))))}}]),t}(n.Component),te=(a(165),function(){return r.a.createElement("div",{className:"container left-box"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("span",{className:"anim-left"}," A place where your bookmarks"),r.a.createElement("span",{className:"anim-bottom"}," can call Home."))))}),ae=(a(166),Object(u.a)()),ne=function(){var e=Object(n.useState)(null),t=Object(c.a)(e,2),a=t[0],o=t[1];Object(n.useEffect)(function(){a||B.get("/auth/loggedin").then(function(e){return e.data}).then(function(e){o(e)})},[a]);var l=function(e){return o(e)},u=Object(n.useState)(null),i=Object(c.a)(u,2)[1];return r.a.createElement("div",{className:"App"},r.a.createElement(s.b,{history:ae},r.a.createElement(F,{saveUrl:function(e){i(e)},setUser:l,userLoggedIn:a}),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:te}),r.a.createElement(s.a,{exact:!0,path:"/sign-up",render:function(e){return r.a.createElement(K,Object.assign({},e,{setUser:l}))}}),r.a.createElement(s.a,{exact:!0,path:"/login",render:function(e){return r.a.createElement(_,Object.assign({},e,{setUser:l}))}}),r.a.createElement(s.a,{exact:!0,path:"/bookmarks",render:function(e){return r.a.createElement(ee,Object.assign({},e,{userLoggedIn:a}))}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},88:function(e,t,a){},93:function(e,t,a){e.exports=a(167)},98:function(e,t,a){}},[[93,1,2]]]);
//# sourceMappingURL=main.99e65276.chunk.js.map