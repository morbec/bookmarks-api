(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(25),l=a.n(o),c=(a(102),a(10)),s=a(29),u=a(16),i=a(44),m=a(45),p=a(50),d=a(46),g=a(51),E=a(30),h=a(9),f=a.n(h),b=a(61),k=a.n(b),v=a(17),j=a.n(v),y=a(35),w=a.n(y),O=a(27),x=a.n(O),L=a(173),I=a(174),S=a(177),C=a(175),A=a(176),D=x.a.create({baseURL:"https://bookmarks--app.herokuapp.com/api",withCredentials:!0}),U=function(e){return r.a.createElement(L.a,{variant:"danger"},r.a.createElement(L.a.Heading,null,"Something whent wrong"),r.a.createElement("p",null,e.errorMessage))},P=function(e){return r.a.createElement(I.a,{className:"mb-3"},e.children)},N=function(e){return r.a.createElement(I.a.Prepend,null,r.a.createElement(I.a.Text,null,e.groupText))},T=function(e){return r.a.createElement(S.a,{name:e.name,placeholder:e.placeholder,as:"input",focus:e.focus.toString(),"aria-describedby":e.name,onChange:e.onChange})},B=function(e){return r.a.createElement(C.a,{type:e.type,variant:e.variant,onClick:e.onClick},e.text)},G=function(e){var t=Object(n.useState)(e.userLoggedIn),a=Object(c.a)(t,2),o=(a[0],a[1],Object(n.useState)("")),l=Object(c.a)(o,2),s=l[0],u=l[1],i=Object(n.useState)(""),m=Object(c.a)(i,2),p=m[0],d=m[1],g=Object(n.useState)(""),E=Object(c.a)(g,2),h=E[0],f=E[1],b=Object(n.useState)(!1),k=Object(c.a)(b,2),v=k[0],j=k[1],y=Object(n.useState)(!1),w=Object(c.a)(y,2),O=w[0],x=w[1],L="",I=Object(n.useState)(!1),S=Object(c.a)(I,2),C=S[0],G=S[1],F=function(e){var t=e.target;!function(e,t){switch(e){case"title":u(t);break;case"url":d(t);break;case"tags":f(t.toLowerCase())}}(t.name,t.value)};return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),j(!1)}},r.a.createElement(B,{type:"button",variant:"outline-secondary",onClick:function(){return j(!0)},text:"Add"}),r.a.createElement(A.a,{centered:!0,show:v,autoFocus:!0,onHide:function(){return j(!1)}},r.a.createElement(A.a.Header,null,r.a.createElement(A.a.Title,null,"Add new bookmark")),r.a.createElement(A.a.Body,null,r.a.createElement(P,null,r.a.createElement(N,{groupText:"www"}),r.a.createElement(T,{name:"url",placeholder:"www.example.com",focus:!0,onChange:F})),r.a.createElement("label",{htmlFor:"url"},"Separate tags by , "),r.a.createElement(P,null,r.a.createElement(N,{groupText:"Tags"}),r.a.createElement(T,{name:"tags",placeholder:"tag1, tag2,",focus:"false",onChange:F}),r.a.createElement(N,{groupText:"Title"}),r.a.createElement(T,{name:"title",placeholder:"Title",focus:"false",onChange:F}))),r.a.createElement(A.a.Footer,null,r.a.createElement(B,{type:"submit",variant:"danger",onClick:function(){G(!1),j(!1)},text:"Cancel"}),r.a.createElement(B,{type:"submit",variant:"success",onClick:function(){x(!0);var t=h.split(",").map(function(e){return e.trim()});(function(e,t,a){return D.post("/bookmark",{title:e,url:t,tags:a}).then(function(e){return e.data}).catch(function(e){return Promise.reject(e)})})(s,p,t).then(function(t){x(!1),j(!1),e.saveUrl({newBookmark:t})}).catch(function(e){L=e.message,j(!0),x(!1),G(!0)})},text:O?"Saving...":"Save"})),C&&r.a.createElement(U,{errorMessage:L})))},F=x.a.create({baseURL:"https://bookmarks--app.herokuapp.com/api",withCredentials:!0}),q=function(){return F.post("/auth/logout").then(function(e){return e.data}).catch(function(e){return Promise.reject(e)})},H=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={userLoggedIn:a.props.userLoggedIn},a.handleLogout=function(){q().then(function(){a.setState({userLoggedIn:null}),a.props.setUser(null)})},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.userLoggedIn!==e.userLoggedIn&&this.setState({userLoggedIn:this.props.userLoggedIn})}},{key:"render",value:function(){return r.a.createElement(w.a,{sticky:"top",variant:"dark",bg:"dark",expand:"lg"},r.a.createElement(w.a.Brand,null,r.a.createElement(E.a,{to:"/bookmarks",style:{textDecoration:"none",color:"#9A9DA0"}},"Bookmarks")),r.a.createElement(w.a,null,this.state.userLoggedIn&&r.a.createElement(G,{saveUrl:this.props.saveUrl,userLoggedIn:this.state.userLoggedIn})),r.a.createElement(w.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(w.a.Collapse,{className:"justify-content-end",id:"basic-navbar-nav"},r.a.createElement(j.a,{hidden:!this.state.userLoggedIn,className:"justify-content-center"},r.a.createElement(j.a.Item,null,r.a.createElement(f.a,{inline:!0},r.a.createElement(k.a,{type:"text",disabled:!0,placeholder:"Search...",className:"mr-sm-2"})))),r.a.createElement(j.a,{className:"justify-content-end"},this.state.userLoggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a.Item,null,r.a.createElement(j.a.Link,{variant:"outline-info"},r.a.createElement(E.a,{variant:"outline-info",to:"/",onClick:this.handleLogout,style:{textDecoration:"none",color:"#9A9DA0"}},"Log out"))),r.a.createElement(j.a.Item,null,r.a.createElement(j.a.Link,{variant:"outline-info"},r.a.createElement(E.a,{to:"/Settings",disabled:!0,style:{textDecoration:"none",color:"#9A9DA0"}},"Settings")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a.Item,null,r.a.createElement(j.a.Link,{variant:"outline-linfo"},r.a.createElement(E.a,{to:"/login",style:{textDecoration:"none",color:"#9A9DA0"}},"Log in"))),r.a.createElement(j.a.Item,null,r.a.createElement(j.a.Link,{variant:"outline-info"},r.a.createElement(E.a,{to:"/sign-up",style:{textDecoration:"none",color:"#9A9DA0"}},"Sign up")))))))}}]),t}(n.Component),z=a(23),M=a.n(z),R=a(49),Y=a.n(R),J=a(21),W=a.n(J),$=a(24),_=a.n($),K=(a(92),function(e){var t=Object(n.useState)(e),a=Object(c.a)(t,2),r=a[0],o=a[1];return{value:r,onChange:function(e){o(e.target.value)}}}),Q=function(e){var t=K(""),a=K(""),o=Object(n.useState)(!1),l=Object(c.a)(o,2),s=l[0],u=l[1],i=Object(n.useState)(""),m=Object(c.a)(i,2),p=m[0],d=m[1];return r.a.createElement("div",{className:"container"},r.a.createElement(f.a,{display:"block",onSubmit:function(n){n.preventDefault(),u(!1),function(e,t){return F.post("/auth/login",{email:e,password:t}).then(function(e){return e.data}).catch(function(e){return Promise.reject(e.request.status)})}(t.value,a.value).then(function(t){e.setUser(t),e.history.push("/bookmarks")}).catch(function(t){switch(u(!0),t){case 0:d("Could not connect to server \ud83d\ude41");break;case 401:d("Incorrect username or password.");break;default:d("Something went wrong... \ud83d\ude29")}e.setUser(null)})}},r.a.createElement(f.a.Group,{as:_.a,controlId:"errorMessage"},r.a.createElement(W.a,null,s?r.a.createElement(M.a,{variant:"danger",onClose:function(e){return u(e)},dismissible:!0},r.a.createElement(M.a.Heading,null,"You got an error"),r.a.createElement("p",null,p)):r.a.createElement(r.a.Fragment,null))),r.a.createElement(f.a.Group,{as:_.a,controlId:"formPlaintextEmail"},r.a.createElement(W.a,null,r.a.createElement(f.a.Control,Object.assign({size:"lg",type:"email",name:"email",placeholder:"example@email.com"},t,{required:!0})))),r.a.createElement(f.a.Group,{as:_.a,controlId:"formPlaintextPassword"},r.a.createElement(W.a,null,r.a.createElement(f.a.Control,Object.assign({size:"lg",type:"password",name:"password",placeholder:"Enter your password"},a,{required:!0})))),r.a.createElement(f.a.Group,null,r.a.createElement(Y.a,{type:"submit",variant:"outline-primary"},"Login"))))},V=function(e){var t=K(""),a=K(""),o=K(""),l=Object(n.useState)(!1),s=Object(c.a)(l,2),u=s[0],i=s[1],m=Object(n.useState)(""),p=Object(c.a)(m,2),d=p[0],g=p[1];return r.a.createElement("div",{className:"container"},r.a.createElement(f.a,{display:"block",onSubmit:function(n){n.preventDefault(),function(e,t,a){return F.post("/auth/signup",{name:e,email:t,password:a}).then(function(e){return e.data}).catch(function(e){return Promise.reject(e.request.status)})}(t.value,a.value,o.value).then(function(t){e.setUser(t),e.history.push("/bookmarks")}).catch(function(t){switch(e.setUser(null),i(!0),t){case 0:g("Could not connect to server \ud83d\ude41");break;case 409:g("The email already exists");break;default:g("Something went wrong... \ud83d\ude29")}})}},r.a.createElement(f.a.Group,{as:_.a,controlId:"errorMessage"},r.a.createElement(W.a,null,u&&r.a.createElement(M.a,{variant:"danger",onClose:function(e){return i(e)},dismissible:!0},r.a.createElement(M.a.Heading,null,"You got an error "),r.a.createElement("p",null,d)))),r.a.createElement(f.a.Group,{as:_.a,controlId:"formPlaintextPassword"},r.a.createElement(W.a,null,r.a.createElement(f.a.Control,Object.assign({size:"lg",type:"text",name:"name",placeholder:"Enter your name"},t,{required:!0})))),r.a.createElement(f.a.Group,{as:_.a,controlId:"formPlaintextPassword"},r.a.createElement(W.a,null,r.a.createElement(f.a.Control,Object.assign({size:"lg",type:"email",name:"email",placeholder:"example@email.com"},a,{required:!0})))),r.a.createElement(f.a.Group,{as:_.a,controlId:"formPlaintextPassword"},r.a.createElement(W.a,null,r.a.createElement(f.a.Control,Object.assign({size:"lg",type:"password",name:"password",placeholder:"Enter your password",required:!0},o)))),r.a.createElement(f.a.Group,null,r.a.createElement(Y.a,{type:"submit",variant:"outline-primary"},"Sign up"))))},X=a(96),Z=a.n(X),ee=a(63),te=a.n(ee),ae=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={bookmarksList:[],userLoggedIn:a.props.userLoggedIn},a.getBookmarks=function(){x.a.get("".concat("https://bookmarks--app.herokuapp.com/api","/bookmark"),{withCredentials:!0}).then(function(e){a.setState({bookmarksList:e.data})}).catch(function(e){return e})},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getBookmarks()}},{key:"componentDidUpdate",value:function(e,t){e!==this.props&&(this.setState({userLoggedIn:this.props.userLoggedIn}),this.getBookmarks())}},{key:"render",value:function(){return r.a.createElement(Z.a,{style:{height:"100vh"}},this.state.userLoggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{variant:"flush"},this.state.bookmarksList.map(function(e,t){return r.a.createElement(te.a.Item,{style:{padding:"25px",marginTop:"2px",marginBottom:"5px",borderRadius:"10px 10px 10px 10px"},key:t,as:"a",target:"_blank",href:e.url},e.title," - ",e.url)}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{variant:"danger"},r.a.createElement(M.a.Heading,null,"Protected content"),r.a.createElement("p",null,"You need to ",r.a.createElement("strong",null,"Log in")," or ",r.a.createElement("strong",null,"Sign up")," first."))))}}]),t}(n.Component),ne=(a(169),function(){return r.a.createElement("div",{className:"container left-box"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("span",{className:"anim-left"}," A place where your bookmarks"),r.a.createElement("span",{className:"anim-bottom"}," can call Home."))))}),re=(a(170),Object(u.a)()),oe=function(){var e=Object(n.useState)(null),t=Object(c.a)(e,2),a=t[0],o=t[1];Object(n.useEffect)(function(){a||F.get("/auth/loggedin").then(function(e){return e.data}).then(function(e){o(e)})},[a]);var l=function(e){return o(e)},u=Object(n.useState)(null),i=Object(c.a)(u,2)[1];return r.a.createElement("div",{className:"App"},r.a.createElement(s.b,{history:re},r.a.createElement(H,{saveUrl:function(e){i(e)},setUser:l,userLoggedIn:a}),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:ne}),r.a.createElement(s.a,{exact:!0,path:"/sign-up",render:function(e){return r.a.createElement(V,Object.assign({},e,{setUser:l}))}}),r.a.createElement(s.a,{exact:!0,path:"/login",render:function(e){return r.a.createElement(Q,Object.assign({},e,{setUser:l}))}}),r.a.createElement(s.a,{exact:!0,path:"/bookmarks",render:function(e){return r.a.createElement(ae,Object.assign({},e,{userLoggedIn:a}))}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},92:function(e,t,a){},97:function(e,t,a){e.exports=a(171)}},[[97,1,2]]]);
//# sourceMappingURL=main.34a819fe.chunk.js.map