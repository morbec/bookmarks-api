(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},137:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),l=a.n(o),c=(a(100),a(10)),s=a(26),i=a(13),u=a(32),m=a.n(u),g=a(41),d=a.n(g),p=a(22),f=a.n(p),h=a(11),E=a.n(h),b=a(25),k=a.n(b),v=a(40),j=a.n(v),y=j.a.create({baseURL:"https://bookmarks--app.herokuapp.com/api",withCredentials:!0}),O=function(){return y.post("/auth/logout").then(function(e){return e.data}).catch(function(e){return Promise.reject(e)})},w=(a(77),function(e){var t=Object(n.useState)(e),a=Object(c.a)(t,2),r=a[0],o=a[1];return{value:r,onChange:function(e){o(e.target.value)}}}),x=function(e){var t=w(""),a=w(""),o=Object(n.useState)(!1),l=Object(c.a)(o,2),s=l[0],i=l[1],u=Object(n.useState)(""),g=Object(c.a)(u,2),p=g[0],h=g[1];return r.a.createElement("div",{className:"container"},r.a.createElement(E.a,{display:"block",onSubmit:function(n){n.preventDefault(),i(!1),function(e,t){return y.post("/auth/login",{email:e,password:t}).then(function(e){return e.data}).catch(function(e){return Promise.reject(e.request.status)})}(t.value,a.value).then(function(t){e.setUser(t),e.history.push("/bookmarks")}).catch(function(t){switch(i(!0),t){case 0:h("Could not connect to server \ud83d\ude41");break;case 401:h("Incorrect username or password.");break;default:h("Something went wrong... \ud83d\ude29")}e.setUser(null)})}},r.a.createElement(E.a.Group,{as:k.a,controlId:"errorMessage"},r.a.createElement(f.a,null,s?r.a.createElement(m.a,{variant:"danger",onClose:function(e){return i(e)},dismissible:!0},r.a.createElement(m.a.Heading,null,"You got an error"),r.a.createElement("p",null,p)):r.a.createElement(r.a.Fragment,null))),r.a.createElement(E.a.Group,{as:k.a,controlId:"formPlaintextEmail"},r.a.createElement(f.a,null,r.a.createElement(E.a.Control,Object.assign({size:"lg",type:"email",name:"email",placeholder:"example@email.com"},t,{required:!0})))),r.a.createElement(E.a.Group,{as:k.a,controlId:"formPlaintextPassword"},r.a.createElement(f.a,null,r.a.createElement(E.a.Control,Object.assign({size:"lg",type:"password",name:"password",placeholder:"Enter your password"},a,{required:!0})))),r.a.createElement(E.a.Group,null,r.a.createElement(d.a,{type:"submit",variant:"outline-primary"},"Login"))))},L=function(e){var t=w(""),a=w(""),o=w(""),l=Object(n.useState)(!1),s=Object(c.a)(l,2),i=s[0],u=s[1],g=Object(n.useState)(""),p=Object(c.a)(g,2),h=p[0],b=p[1];return r.a.createElement("div",{className:"container"},r.a.createElement(E.a,{display:"block",onSubmit:function(n){n.preventDefault(),function(e,t,a){return y.post("/auth/signup",{name:e,email:t,password:a}).then(function(e){return e.data}).catch(function(e){return Promise.reject(e.request.status)})}(t.value,a.value,o.value).then(function(t){e.setUser(t),e.history.push("/bookmarks")}).catch(function(t){switch(e.setUser(null),u(!0),t){case 0:b("Could not connect to server \ud83d\ude41");break;case 409:b("The email already exists");break;default:b("Something went wrong... \ud83d\ude29")}})}},r.a.createElement(E.a.Group,{as:k.a,controlId:"errorMessage"},r.a.createElement(f.a,null,i&&r.a.createElement(m.a,{variant:"danger",onClose:function(e){return u(e)},dismissible:!0},r.a.createElement(m.a.Heading,null,"You got an error "),r.a.createElement("p",null,h)))),r.a.createElement(E.a.Group,{as:k.a,controlId:"formPlaintextPassword"},r.a.createElement(f.a,null,r.a.createElement(E.a.Control,Object.assign({size:"lg",type:"text",name:"name",placeholder:"Enter your name"},t,{required:!0})))),r.a.createElement(E.a.Group,{as:k.a,controlId:"formPlaintextPassword"},r.a.createElement(f.a,null,r.a.createElement(E.a.Control,Object.assign({size:"lg",type:"email",name:"email",placeholder:"example@email.com"},a,{required:!0})))),r.a.createElement(E.a.Group,{as:k.a,controlId:"formPlaintextPassword"},r.a.createElement(f.a,null,r.a.createElement(E.a.Control,Object.assign({size:"lg",type:"password",name:"password",placeholder:"Enter your password",required:!0},o)))),r.a.createElement(E.a.Group,null,r.a.createElement(d.a,{type:"submit",variant:"outline-primary"},"Sign up"))))},S=(a(137),function(){return r.a.createElement("div",{className:"container left-box"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("span",{className:"anim-left"}," A place where your bookmarks"),r.a.createElement("span",{className:"anim-bottom"}," can call Home."))))}),C=a(42),I=a(43),T=a(49),B=a(45),A=a(44),D=a(50),U=a(166),P=a(167),N=a(168),G=a(173),F=a(169),q=j.a.create({baseURL:"https://bookmarks--app.herokuapp.com/api",withCredentials:!0}),H=function(){return q.get("/bookmark").then(function(e){return e.data}).catch(function(e){return e})},z=a(66),M=function(e){var t=e.bookmarks,a=e.activeTags,n=new Set,o=new Set;t.length&&t.map(function(e){return e._tags.forEach(function(e){n.add(e._id),o.add(e.name)})});var l=Object(z.a)(n),c=Object(z.a)(o).map(function(t,n){return r.a.createElement(G.a.Item,{style:{padding:"10px 20px",marginTop:"1px",marginBottom:"1px",backgroundColor:"#f9f9f9"},action:!0,onClick:function(t){return function(t,n,r){if(r.target.classList.contains("active")){r.target.style.backgroundColor="white";var o=a.indexOf(t);-1!==o&&a.splice(o,1),e.handleTagClick()}else r.target.style.backgroundColor="blue",a.push(t),e.handleTagClick();r.target.classList.toggle("active")}(l[n],0,t)},as:"li",key:l[n]},t)});return r.a.createElement(G.a,{as:"ul",style:{padding:"0 20px"}},c)},_=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={bookmarksList:[],filteredBookmarks:[],userLoggedIn:a.props.userLoggedIn},a.activeTags=[],a.getBookmarks=function(){H().then(function(e){a.setState({bookmarksList:e,filteredBookmarks:e})}).catch(function(e){return alert(e)})},a.handleTagClick=function(){var e=Object(A.a)(a).activeTags,t=[];e.length?(e.forEach(function(e){a.state.bookmarksList.filter(function(t){return t._tags.find(function(t){return t._id===e})}).forEach(function(e){t.includes(e)||t.push(e)})}),a.setState({filteredBookmarks:t})):a.setState(function(e){return{filteredBookmarks:e.bookmarksList}})},a}return Object(D.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.getBookmarks()}},{key:"componentDidUpdate",value:function(e){e!==this.props&&(this.setState({userLoggedIn:this.props.userLoggedIn}),this.getBookmarks())}},{key:"render",value:function(){return r.a.createElement(U.a,{style:{height:"100vh"}},r.a.createElement(P.a,null,r.a.createElement(N.a,{xs:2},r.a.createElement(M,{activeTags:this.activeTags,handleTagClick:this.handleTagClick,bookmarks:this.state.bookmarksList})),r.a.createElement(N.a,{xs:9},this.state.userLoggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{variant:"flush"},this.state.filteredBookmarks.map(function(e,t){return r.a.createElement(G.a.Item,{style:{padding:"25px",marginTop:"2px",marginBottom:"5px",borderRadius:"10px 10px 10px 10px"},key:t,as:"a",target:"_blank",href:e.url},e.title," - ",e.url)}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{variant:"danger"},r.a.createElement(F.a.Heading,null,"Protected content"),r.a.createElement("p",null,"You need to",r.a.createElement("strong",null,"Log in"),"or",r.a.createElement("strong",null,"Sign up"),"first."))))))}}]),t}(n.Component),R=a(64),Y=a(18),J=a.n(Y),W=a(33),$=a.n(W),K=a(170),Q=a(174),V=a(171),X=a(172),Z=function(e){return r.a.createElement(F.a,{variant:"danger"},r.a.createElement(F.a.Heading,null,"Something whent wrong"),r.a.createElement("p",null,e.errorMessage))},ee=function(e){return r.a.createElement(K.a,{className:"mb-3"},e.children)},te=function(e){return r.a.createElement(K.a.Prepend,null,r.a.createElement(K.a.Text,null,e.groupText))},ae=function(e){return r.a.createElement(Q.a,{name:e.name,placeholder:e.placeholder,as:"input",focus:e.focus.toString(),"aria-describedby":e.name,onChange:e.onChange})},ne=function(e){return r.a.createElement(V.a,{type:e.type,variant:e.variant,onClick:e.onClick},e.text)},re=function(e){var t=Object(n.useState)(e.userLoggedIn),a=Object(c.a)(t,2),o=(a[0],a[1],Object(n.useState)("")),l=Object(c.a)(o,2),s=l[0],i=l[1],u=Object(n.useState)(""),m=Object(c.a)(u,2),g=m[0],d=m[1],p=Object(n.useState)(""),f=Object(c.a)(p,2),h=f[0],E=f[1],b=Object(n.useState)(!1),k=Object(c.a)(b,2),v=k[0],j=k[1],y=Object(n.useState)(!1),O=Object(c.a)(y,2),w=O[0],x=O[1],L="",S=Object(n.useState)(!1),C=Object(c.a)(S,2),I=C[0],T=C[1],B=function(e){var t=e.target;!function(e,t){switch(e){case"title":i(t);break;case"url":d(t);break;case"tags":E(t.toLowerCase())}}(t.name,t.value)};return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),j(!1)}},r.a.createElement(ne,{type:"button",variant:"outline-secondary",onClick:function(){return j(!0)},text:"Add"}),r.a.createElement(X.a,{centered:!0,show:v,autoFocus:!0,onHide:function(){return j(!1)}},r.a.createElement(X.a.Header,null,r.a.createElement(X.a.Title,null,"Add new bookmark")),r.a.createElement(X.a.Body,null,r.a.createElement(ee,null,r.a.createElement(te,{groupText:"www"}),r.a.createElement(ae,{name:"url",placeholder:"www.example.com",focus:!0,onChange:B})),r.a.createElement("label",{htmlFor:"url"},"Separate tags by , "),r.a.createElement(ee,null,r.a.createElement(te,{groupText:"Tags"}),r.a.createElement(ae,{name:"tags",placeholder:"tag1, tag2,",focus:"false",onChange:B}),r.a.createElement(te,{groupText:"Title"}),r.a.createElement(ae,{name:"title",placeholder:"Title",focus:"false",onChange:B}))),r.a.createElement(X.a.Footer,null,r.a.createElement(ne,{type:"submit",variant:"danger",onClick:function(){T(!1),j(!1)},text:"Cancel"}),r.a.createElement(ne,{type:"submit",variant:"success",onClick:function(){x(!0);var t=h.split(",").filter(function(e){return e.trim()});(function(e,t,a){return q.post("/bookmark",{title:e,url:t,tags:a}).then(function(e){return e.data}).catch(function(e){return Promise.reject(e)})})(s,g,t).then(function(t){x(!1),j(!1),e.saveUrl({newBookmark:t})}).catch(function(e){L=e.message,j(!0),x(!1),T(!0)})},text:w?"Saving...":"Save"})),I&&r.a.createElement(Z,{errorMessage:L})))},oe=function(e){var t=Object(n.useState)(""),a=Object(c.a)(t,2),o=a[0],l=a[1];return r.a.createElement(Q.a,{hidden:!0,placeholder:e.placeholder,onChange:function(t){var a=t.target.value;e.filterBookmarks(a),l({input:a})},value:o,className:"mr-sm-2"})},le=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(T.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={userLoggedIn:a.props.userLoggedIn},a.handleLogout=function(){O().then(function(){a.setState({userLoggedIn:null}),a.props.setUser(null)})},a}return Object(D.a)(t,e),Object(I.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.userLoggedIn!==e.userLoggedIn&&this.setState({userLoggedIn:this.props.userLoggedIn})}},{key:"render",value:function(){return r.a.createElement($.a,{sticky:"top",variant:"dark",bg:"dark",expand:"lg"},r.a.createElement($.a.Brand,null,r.a.createElement(R.a,{to:"/bookmarks",style:{textDecoration:"none",color:"#9A9DA0"}},"Bookmarks")),r.a.createElement($.a,null,this.state.userLoggedIn&&r.a.createElement(re,{saveUrl:this.props.saveUrl,userLoggedIn:this.state.userLoggedIn})),r.a.createElement($.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement($.a.Collapse,{className:"justify-content-end",id:"basic-navbar-nav"},r.a.createElement(J.a,{hidden:!this.state.userLoggedIn,className:"justify-content-center"},r.a.createElement(J.a.Item,null,r.a.createElement(E.a,{inline:!0},r.a.createElement(oe,{placeholder:"Search..."})))),r.a.createElement(J.a,{className:"justify-content-end"},this.state.userLoggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a.Item,null,r.a.createElement(J.a.Link,{variant:"outline-info",as:"a",href:"/",onClick:this.handleLogout,style:{textDecoration:"none",color:"#9A9DA0"}},"Log out")),r.a.createElement(J.a.Item,null,r.a.createElement(J.a.Link,{variant:"outline-info",as:"a",href:"/Settings",disabled:!0,style:{textDecoration:"none",color:"#9A9DA0"}},"Settings"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a.Item,null,r.a.createElement(J.a.Link,{variant:"outline-linfo",as:"a",href:"/login",style:{textDecoration:"none",color:"#9A9DA0"}},"Log in")),r.a.createElement(J.a.Item,null,r.a.createElement(J.a.Link,{variant:"outline-info",as:"a",href:"/sign-up",style:{textDecoration:"none",color:"#9A9DA0"}},"Sign up"))))))}}]),t}(n.Component),ce=(a(163),Object(i.a)()),se=function(){var e=Object(n.useState)(null),t=Object(c.a)(e,2),a=t[0],o=t[1];Object(n.useEffect)(function(){a||y.get("/auth/loggedin").then(function(e){return e.data}).then(function(e){o(e)})},[a]);var l=function(e){return o(e)},i=Object(n.useState)(null),u=Object(c.a)(i,2)[1];return r.a.createElement("div",{className:"App"},r.a.createElement(s.b,{history:ce},r.a.createElement(le,{saveUrl:function(e){u(e)},setUser:l,userLoggedIn:a}),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:S}),r.a.createElement(s.a,{exact:!0,path:"/sign-up",render:function(e){return r.a.createElement(L,Object.assign({},e,{setUser:l}))}}),r.a.createElement(s.a,{exact:!0,path:"/login",render:function(e){return r.a.createElement(x,Object.assign({},e,{setUser:l}))}}),r.a.createElement(s.a,{exact:!0,path:"/bookmarks",render:function(e){return r.a.createElement(_,Object.assign({},e,{userLoggedIn:a}))}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},77:function(e,t,a){},95:function(e,t,a){e.exports=a(164)}},[[95,1,2]]]);
//# sourceMappingURL=main.de9688fa.chunk.js.map