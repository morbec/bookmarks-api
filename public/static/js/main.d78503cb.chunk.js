(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(16),l=a.n(o),c=(a(96),a(35)),s=a(21),i=a(14),u=a(26),m=a(27),p=a(30),d=a(28),g=a(31),h=a(22),f=a(8),E=a.n(f),k=a(34),b=a.n(k),v=a(11),y=a.n(v),L=a(20),j=a.n(L),I=a(29),w=a.n(I),O=w.a.create({baseURL:"https://bookmarks--app.herokuapp.com/api",withCredentials:!0}),x=function(){return O.post("/auth/logout").then(function(e){return e.data}).catch(function(e){return e})},S=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={userLoggedIn:a.props.userLoggedIn},a.handleLogout=function(){x().then(function(){a.setState({userLoggedIn:null}),a.props.setUser(null)})},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.userLoggedIn!==e.userLoggedIn&&this.setState({userLoggedIn:this.props.userLoggedIn})}},{key:"render",value:function(){return r.a.createElement(j.a,{sticky:"top",variant:"dark",bg:"dark",expand:"lg"},r.a.createElement(j.a.Brand,null,r.a.createElement(h.a,{to:"/bookmarks",style:{textDecoration:"none",color:"#9A9DA0"}},"Bookmarks")),r.a.createElement(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(j.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(y.a,{className:"justify-content-start mr-auto"}),r.a.createElement(y.a,{hidden:!this.state.userLoggedIn,className:"justify-content-center"},r.a.createElement(y.a.Item,null,r.a.createElement(E.a,{inline:!0},r.a.createElement(b.a,{type:"text",disabled:!0,placeholder:"Search...",className:"mr-sm-2"})))),r.a.createElement(y.a,{className:"justify-content-end"},this.state.userLoggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a.Item,null,r.a.createElement(y.a.Link,{variant:"outline-info"},r.a.createElement(h.a,{variant:"outline-info",to:"/",onClick:this.handleLogout,style:{textDecoration:"none",color:"#9A9DA0"}},"Log out"))),r.a.createElement(y.a.Item,null,r.a.createElement(y.a.Link,{variant:"outline-info"},r.a.createElement(h.a,{to:"/Settings",disabled:!0,style:{textDecoration:"none",color:"#9A9DA0"}},"Settings")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a.Item,null,r.a.createElement(y.a.Link,{variant:"outline-linfo"},r.a.createElement(h.a,{to:"/login",style:{textDecoration:"none",color:"#9A9DA0"}},"Log in"))),r.a.createElement(y.a.Item,null,r.a.createElement(y.a.Link,{variant:"outline-info"},r.a.createElement(h.a,{to:"/sign-up",style:{textDecoration:"none",color:"#9A9DA0"}},"Sign up")))))))}}]),t}(n.Component),U=a(86),C=a(89),D=a.n(C),A=a(87),N=a.n(A),P=w.a.create({baseURL:"https://bookmarks--app.herokuapp.com/api",withCredentials:!0}),R=function(e,t){return P.post("/bookmark",{title:e,url:t}).then(function(e){return e}).catch(function(e){return e})},B=function(e){return P.post("/bookmark/scrape",{anyURL:e}).then(function(e){return e.data}).catch(function(e){return e})},G=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={bookmarkURL:"",userLoggedIn:a.props.userLoggedIn},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(U.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state.bookmarkURL;t.startsWith("http")||(t="https://"+t),B(t).then(function(e){R(e,t).then(function(){a.props.saveUrl({title:e,bookmarkURL:t}),a.setState({bookmarkURL:""})}).catch(function(){a.setState({bookmarkURL:"Something went wrong..."})})})},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.userLoggedIn!==e.userLoggedIn&&this.setState({userLoggedIn:this.props.userLoggedIn})}},{key:"render",value:function(){return r.a.createElement(j.a,{hidden:!this.state.userLoggedIn,fixed:"bottom",variant:"dark",bg:"dark",expand:"lg"},r.a.createElement(j.a.Collapse,null,r.a.createElement(y.a,{className:"justify-content-center"},r.a.createElement(y.a.Item,null,r.a.createElement(N.a,{placement:"top",overlay:r.a.createElement(D.a,{id:"addNewBookmark"}," Add new bookmark ")},r.a.createElement(E.a,{inline:!0,onSubmit:this.handleSubmit},r.a.createElement(b.a,{name:"bookmarkURL",value:this.state.bookmarkURL,type:"text",onChange:this.handleChange,placeholder:"https://...",className:"mr-sm-2"})))))))}}]),t}(n.Component),z=a(38),F=a.n(z),W=a(19),H=a.n(W),J=a(23),T=a.n(J),M=(a(83),function(e){var t=Object(n.useState)(e),a=Object(c.a)(t,2),r=a[0],o=a[1];return{value:r,onChange:function(e){o(e.target.value)}}}),Y=function(e){var t=M(""),a=M("");return r.a.createElement("div",{className:"container"},r.a.createElement(E.a,{display:"block",onSubmit:function(n){n.preventDefault(),function(e,t){return O.post("/auth/login",{email:e,password:t}).then(function(e){return e.data}).catch(function(e){return Promise.reject("".concat(e))})}(t.value,a.value).then(function(t){e.setUser(t),e.history.push("/bookmarks")}).catch(function(){e.setUser(null)})}},r.a.createElement(E.a.Group,{as:T.a,controlId:"formPlaintextEmail"},r.a.createElement(H.a,null,r.a.createElement(E.a.Control,Object.assign({size:"lg",type:"email",name:"email",placeholder:"example@email.com"},t)))),r.a.createElement(E.a.Group,{as:T.a,controlId:"formPlaintextPassword"},r.a.createElement(H.a,null,r.a.createElement(E.a.Control,Object.assign({size:"lg",type:"password",name:"password",placeholder:"Enter your password"},a)))),r.a.createElement(E.a.Group,null,r.a.createElement(F.a,{type:"submit",variant:"outline-primary"},"Login"))))},$=function(e){var t=M(""),a=M(""),n=M("");return r.a.createElement("div",{className:"container"},r.a.createElement(E.a,{display:"block",onSubmit:function(r){r.preventDefault(),function(e,t,a){return O.post("/auth/signup",{name:e,email:t,password:a}).then(function(e){return e.data}).catch(function(e){return e})}(t.value,a.value,n.value).then(function(t){e.setUser(t),e.history.push("/bookmarks")}).catch(function(){return e.setUser(null)})}},r.a.createElement(E.a.Group,{as:T.a,controlId:"formPlaintextPassword"},r.a.createElement(H.a,null,r.a.createElement(E.a.Control,Object.assign({size:"lg",type:"text",name:"name",placeholder:"Enter your name"},t)))),r.a.createElement(E.a.Group,{as:T.a,controlId:"formPlaintextPassword"},r.a.createElement(H.a,null,r.a.createElement(E.a.Control,Object.assign({size:"lg",type:"email",name:"email",placeholder:"example@email.com"},a)))),r.a.createElement(E.a.Group,{as:T.a,controlId:"formPlaintextPassword"},r.a.createElement(H.a,null,r.a.createElement(E.a.Control,Object.assign({size:"lg",type:"password",name:"password",placeholder:"Enter your password"},n)))),r.a.createElement(E.a.Group,null,r.a.createElement(F.a,{type:"submit",variant:"outline-primary"},"Sign up"))))},_=a(49),q=a.n(_),K=a(90),Q=a.n(K),V=a(48),X=a.n(V),Z=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={bookmarksList:[],userLoggedIn:a.props.userLoggedIn},a.getBookmarks=function(){w.a.get("".concat("https://bookmarks--app.herokuapp.com/api","/bookmark"),{withCredentials:!0}).then(function(e){a.setState({bookmarksList:e.data})}).catch(function(e){return e})},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getBookmarks()}},{key:"componentDidUpdate",value:function(e,t){e!==this.props&&(this.setState({userLoggedIn:this.props.userLoggedIn}),this.getBookmarks())}},{key:"render",value:function(){return r.a.createElement(Q.a,{style:{height:"100vh"}},this.state.userLoggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{variant:"flush"},this.state.bookmarksList.map(function(e,t){return r.a.createElement(X.a.Item,{style:{padding:"25px",marginTop:"2px",marginBottom:"5px",borderRadius:"10px 10px 10px 10px"},key:t,as:"a",target:"_blank",href:e.url},e.title," - ",e.url)}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{variant:"danger"},r.a.createElement(q.a.Heading,null,"Protected content"),r.a.createElement("p",null,"You need to ",r.a.createElement("strong",null,"Log in")," or ",r.a.createElement("strong",null,"Sign up")," first."))))}}]),t}(n.Component),ee=(a(161),a(162),function(){return r.a.createElement("div",{className:"container left-box"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("span",{className:"anim-left"}," A place where your bookmarks"),r.a.createElement("span",{className:"anim-bottom"}," can call Home."))))}),te=Object(i.a)(),ae=function(){var e=Object(n.useState)(null),t=Object(c.a)(e,2),a=t[0],o=t[1];Object(n.useEffect)(function(){a||O.get("/auth/loggedin").then(function(e){return e.data}).then(function(e){o(e)})},[a]);var l=function(e){return o(e)},i=Object(n.useState)(null),u=Object(c.a)(i,2)[1];return r.a.createElement("div",{className:"App"},r.a.createElement(s.b,{history:te},r.a.createElement(S,{setUser:l,userLoggedIn:a}),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:ee}),r.a.createElement(s.a,{exact:!0,path:"/sign-up",render:function(e){return r.a.createElement($,Object.assign({},e,{setUser:l}))}}),r.a.createElement(s.a,{exact:!0,path:"/login",render:function(e){return r.a.createElement(Y,Object.assign({},e,{setUser:l}))}}),r.a.createElement(s.a,{exact:!0,path:"/bookmarks",render:function(e){return r.a.createElement(Z,Object.assign({},e,{userLoggedIn:a}))}})),r.a.createElement(G,{saveUrl:function(e){u(e)},userLoggedIn:a})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},83:function(e,t,a){},91:function(e,t,a){e.exports=a(163)},96:function(e,t,a){}},[[91,1,2]]]);
//# sourceMappingURL=main.d78503cb.chunk.js.map